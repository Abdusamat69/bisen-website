<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ö–æ–º–ø–∞–Ω–∏—è Bisen ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</title>
  <meta name="description" content="–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ç–æ—á–µ–∫, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ü–û BIRSAN –∏ Paloma365, —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π." />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --primary-1:#024180; --primary-2:#5563DE; --accent:#25D366; --telegram:#0088cc; --muted:#f5f7fb;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Montserrat', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background:var(--muted);
      color:#222;
      line-height:1.6;
      display:flex;
      flex-direction:column;
      min-height:100vh;
    }

    /* HEADER & SLIDER (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ –≤ —Ç–≤–æ—ë–º —Ä–∞–±–æ—á–µ–º –∫–æ–¥–µ) */
    header{background:linear-gradient(135deg,var(--primary-1),var(--primary-2));color:#fff;padding:24px 16px;text-align:center}
    header h1{margin:0;font-size:28px} header p{margin:8px 0 0;opacity:.95}

    .slider{position:relative;width:100%;max-height:55vh;overflow:hidden;margin-top:16px;border-radius:12px}
    .slides{position:relative;width:100%;height:55vh}
    .slide{position:absolute;inset:0;opacity:0;transition:opacity .9s ease-in-out;display:flex;align-items:center;justify-content:center}
    .slide.active{opacity:1;z-index:1}
    .slide img{width:100%;height:100%;object-fit:cover;display:block}
    .overlay{position:absolute;inset:0;background:rgba(0,0,0,.28)}
    .slide-text{position:absolute;bottom:16%;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.5);color:#fff;padding:12px 20px;border-radius:10px;font-size:20px;backdrop-filter:blur(4px)}

    .nav-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.45);border:0;color:#fff;width:40px;height:40px;border-radius:50%;cursor:pointer;font-size:20px;z-index:10}
    .nav-prev{left:12px} .nav-next{right:12px}

    .dots{position:absolute;bottom:12px;left:0;right:0;text-align:center}
    .dot{display:inline-block;width:10px;height:10px;margin:0 6px;background:rgba(255,255,255,.5);border-radius:50%;cursor:pointer}
    .dot.active{background:#fff}

    /* CONTENT */
    .container{max-width:1000px;margin:28px auto;background:#fff;border-radius:12px;padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.06)}
    h2{color:var(--primary-2);margin:0 0 14px}

    /* CONTACTS */
    .contacts{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:10px}
    .contacts a{color:#fff;text-decoration:none;padding:10px 14px;border-radius:20px;font-weight:600}
    .contacts a.tel{background:#007bff} .contacts a.whatsapp{background:var(--accent)} .contacts a.email{background:#ff9800} .contacts a.telegram{background:var(--telegram)}
    .contacts a.instagram{background:radial-gradient(circle at 30% 107%, #fdf497 0%, #fd5949 45%, #d6249f 60%, #285AEB 90%)}

    .map{margin-top:16px;border-radius:10px;overflow:hidden}

    /* Formspree */
    .feedback-form{max-width:600px;margin:0 auto}
    .form-group{margin-bottom:16px}
    .form-group label{display:block;margin-bottom:6px;font-weight:600;color:var(--primary-1)}
    .form-group input,.form-group textarea{width:100%;padding:12px;border:1px solid #ddd;border-radius:6px;font-size:15px}
    .form-submit-btn{background:var(--primary-2);color:#fff;border:0;padding:12px 18px;border-radius:8px;font-weight:700;cursor:pointer}
    .form-status{margin-top:12px;text-align:center}

    /* Review stars input */
    .stars-input{display:flex;flex-direction:row-reverse;justify-content:flex-end;gap:6px}
    .stars-input input{display:none}
    .stars-input label{font-size:30px;color:#ccc;cursor:pointer;user-select:none}
    .stars-input input:checked ~ label, .stars-input label:hover, .stars-input label:hover ~ label{color:#ff9800}

    /* Reviews list */
    .reviews-block{max-width:700px;margin:0 auto;background:#fff;padding:18px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.04)}
    .review-item{border-bottom:1px solid #f0f0f0;padding:12px 0}
    .review-item:last-child{border-bottom:none}
    .review-item h4{margin:0 0 6px;color:var(--primary-1)}
    .stars-display{color:#ff9800;margin-bottom:6px;font-size:16px}

    /* floating social */
    .social-floating{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:10px;z-index:200}
    .social-fab{width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;text-decoration:none;font-size:18px}
    .social-fab.whatsapp{background:var(--accent)} .social-fab.telegram{background:var(--telegram)} .social-fab.instagram{background:linear-gradient(45deg,#fd5949,#d6249f,#285AEB)}

    footer{margin-top:auto;background:linear-gradient(135deg,var(--primary-1),var(--primary-2));color:#fff;text-align:center;padding:20px}

    @media (max-width:820px){ .reviews-block{padding:14px} .slide-text{font-size:16px;bottom:14%} }
  </style>
</head>
<body>

  <!-- HEADER + SLIDER (–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ) -->
  <header>
    <h1>–ö–æ–º–ø–∞–Ω–∏—è "Bisen"</h1>
    <p>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ ‚Ä¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ü–û "BIRSAN" –∏ "Paloma365" ‚Ä¢ –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</p>

    <div class="slider" aria-label="–ì–ª–∞–≤–Ω—ã–π —Å–ª–∞–π–¥–µ—Ä">
      <div class="slides">
        <div class="slide active">
          <img src="images/automation.jpg" alt="–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–≤">
          <div class="overlay"></div>
          <div class="slide-text">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–≤</div>
        </div>

        <div class="slide">
          <img src="images/Car.jpg" alt="–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π">
          <div class="overlay"></div>
          <div class="slide-text">–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</div>
        </div>
      </div>

      <button class="nav-btn nav-prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π">‚ùÆ</button>
      <button class="nav-btn nav-next" aria-label="–°–ª–µ–¥—É—é—â–∏–π">‚ùØ</button>

      <div class="dots" aria-hidden="false"><!-- —Ç–æ—á–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º --></div>
    </div>
  </header>

  <main>
    <section class="container" id="about">
      <h2>–û –∫–æ–º–ø–∞–Ω–∏–∏</h2>
      <p>–ö–æ–º–ø–∞–Ω–∏—è Bisen –≤–Ω–µ–¥—Ä—è–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ —Ä–æ–∑–Ω–∏—á–Ω—É—é –∏ –æ–ø—Ç–æ–≤—É—é —Ç–æ—Ä–≥–æ–≤–ª—é. –ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥: –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ü–û –¥–æ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –æ–±—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞. –ü–∞—Ä—Ç–Ω—ë—Ä—ã: Webkassa, BIRSAN –∏ Paloma365.</p>
    </section>

    <section class="container" id="services">
      <h2>–£—Å–ª—É–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏</h2>
      <ul>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–≤, –∫–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤</li>
        <li>–ü—Ä–æ–¥–∞–∂–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Å—Å–æ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –ü–û</li>
      </ul>

      <h2 style="margin-top:18px;">–£—Å–ª—É–≥–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è</h2>
      <ul>
        <li>–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤—ä–µ–∑–∂–∞—é—â–∏—Ö –≤ —Å—Ç—Ä–∞–Ω—É</li>
        <li>–û–°–ê–ì–û –¥–ª—è —Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–≤ –∏ –Ω–µ—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–≤</li>
        <li>–î–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ–µ –º–µ–¥. —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–µ—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–≤ –†–§</li>
      </ul>
    </section>

    <!-- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (Formspree) ‚Äî –ø–µ—Ä–µ–¥ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ -->
    <section class="container" id="feedback">
      <h2>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
      <form id="contact-form" class="feedback-form" action="https://formspree.io/f/mdkljpdv" method="POST" novalidate>
        <!-- –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_FORMSPREE_ID -->
        <div class="form-group"><label for="cf-name">–í–∞—à–µ –∏–º—è</label><input id="cf-name" name="name" type="text" required></div>
        <div class="form-group"><label for="cf-email">Email</label><input id="cf-email" name="email" type="email" required></div>
        <div class="form-group"><label for="cf-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label><input id="cf-phone" name="phone" type="tel" placeholder="+7..."></div>
        <div class="form-group"><label for="cf-message">–°–æ–æ–±—â–µ–Ω–∏–µ</label><textarea id="cf-message" name="message" rows="5" required></textarea></div>
        <button type="submit" class="form-submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
        <div id="form-status" class="form-status" aria-live="polite"></div>
      </form>
    </section>

    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–µ –∂–µ –∫–Ω–æ–ø–∫–∏) -->
    <section class="container" id="contacts">
      <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <div class="contacts">
        <a class="tel" href="tel:+77014110470">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
        <a class="whatsapp" href="https://wa.me/77014110470" target="_blank" rel="noopener">üí¨ WhatsApp</a>
        <a class="email" href="mailto:b.s.m@bk.ru">üìß Email</a>
        <a class="telegram" href="https://t.me/samat_bisen" target="_blank" rel="noopener">‚úà Telegram</a>
        <a class="instagram" href="https://instagram.com/almaz_market_sarkamys" target="_blank" rel="noopener">üì∑ Instagram</a>
      </div>

      <div class="map" aria-hidden="false" style="margin-top:12px;">
        <!-- –†–∞–±–æ—á–∞—è –∫–∞—Ä—Ç–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ 47.0964,51.8586 -->
        <iframe
          src="https://www.google.com/maps?q=47.0964,51.8586&z=17&output=embed"
          width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>

        <div style="text-align:center;margin-top:10px;">
          <!-- –ö–Ω–æ–ø–∫–∞ —Å—Ç—Ä–æ–∏—Ç –º–∞—Ä—à—Ä—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ –ü–ö –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö -->
          <a href="https://www.google.com/maps/dir/?api=1&destination=47.0964,51.8586" target="_blank" rel="noopener" style="text-decoration:none;">
            <button class="form-submit-btn" style="display:inline-block;">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
          </a>
        </div>
      </div>
    </section>

    <!-- –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ (—Ñ–æ—Ä–º–∞ —Å–æ –∑–≤—ë–∑–¥–∞–º–∏) -->
    <section class="container" id="leave-review">
      <h2>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h2>

      <div class="reviews-block" style="max-width:700px;margin:0 auto;">
        <form id="review-form" class="feedback-form" novalidate>
          <div class="form-group"><label for="r-name">–í–∞—à–µ –∏–º—è</label><input id="r-name" name="name" type="text" required></div>
          <div class="form-group"><label for="r-text">–û—Ç–∑—ã–≤</label><textarea id="r-text" name="review" rows="4" required></textarea></div>

          <div class="form-group">
            <label>–û—Ü–µ–Ω–∫–∞</label>
            <div class="stars-input" role="radiogroup" aria-label="–û—Ü–µ–Ω–∫–∞">
              <!-- –†–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∏ –∏–¥—É—Ç –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ CSS hover/checked -->
              <input type="radio" id="star5" name="rating" value="5"><label for="star5" title="5">‚òÖ</label>
              <input type="radio" id="star4" name="rating" value="4"><label for="star4" title="4">‚òÖ</label>
              <input type="radio" id="star3" name="rating" value="3"><label for="star3" title="3">‚òÖ</label>
              <input type="radio" id="star2" name="rating" value="2"><label for="star2" title="2">‚òÖ</label>
              <input type="radio" id="star1" name="rating" value="1"><label for="star1" title="1">‚òÖ</label>
            </div>
          </div>

          <button type="submit" class="form-submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
          <div id="review-status" class="form-status" aria-live="polite"></div>
        </form>
      </div>
    </section>

    <!-- –û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ Google Sheets) -->
    <section class="container" id="reviews-section">
      <h2>–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
      <div class="reviews-block" id="reviews-container">
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...</p>
      </div>
    </section>
  </main>

  <!-- –ü–ª–∞–≤–∞—é—â–∏–µ —Å–æ—Ü—Å–µ—Ç–∏ (–≤–µ—Ä–Ω—É–ª Instagram) -->
  <div class="social-floating" aria-hidden="false">
    <a class="social-fab whatsapp" href="https://wa.me/77014110470" target="_blank" rel="noopener" aria-label="WhatsApp">üí¨</a>
    <a class="social-fab telegram" href="https://t.me/samat_bisen" target="_blank" rel="noopener" aria-label="Telegram">‚úà</a>
    <a class="social-fab instagram" href="https://instagram.com/almaz_market_sarkamys" target="_blank" rel="noopener" aria-label="Instagram">üì∑</a>
  </div>

  <footer>
    ¬© 2025 –ë–∏—Å–µ–Ω–æ–≤ –°.–ú. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
  </footer>

  <script>
    /* ===========================
       SLIDER (–≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–∫ —É —Ç–µ–±—è –±—ã–ª)
       =========================== */
    document.addEventListener('DOMContentLoaded', function() {
      const slides = document.querySelectorAll('.slide');
      const dotsContainer = document.querySelector('.dots');
      const prevBtn = document.querySelector('.nav-prev');
      const nextBtn = document.querySelector('.nav-next');

      if (!slides.length || !dotsContainer) { console.log('–°–ª–∞–π–¥–µ—Ä: —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã'); return; }

      let current = 0;
      let intervalId = null;

      // –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–æ—á–∫–∏
      slides.forEach((_, idx) => {
        const dot = document.createElement('span');
        dot.className = 'dot' + (idx === 0 ? ' active' : '');
        dot.dataset.index = idx;
        dot.addEventListener('click', () => { showSlide(idx); restart(); });
        dotsContainer.appendChild(dot);
      });

      const dots = dotsContainer.querySelectorAll('.dot');

      function showSlide(index) {
        slides[current].classList.remove('active');
        dots[current].classList.remove('active');
        current = (index + slides.length) % slides.length;
        slides[current].classList.add('active');
        dots[current].classList.add('active');
      }

      function nextSlide() { showSlide(current + 1); }
      function prevSlide() { showSlide(current - 1); }

      if (nextBtn) nextBtn.addEventListener('click', () => { clearInterval(intervalId); nextSlide(); restart(); });
      if (prevBtn) prevBtn.addEventListener('click', () => { clearInterval(intervalId); prevSlide(); restart(); });

      function start() { intervalId = setInterval(nextSlide, 5000); }
      function stop() { clearInterval(intervalId); intervalId = null; }
      function restart() { stop(); start(); }

      const sliderEl = document.querySelector('.slider');
      if (sliderEl) {
        sliderEl.addEventListener('mouseenter', stop);
        sliderEl.addEventListener('mouseleave', start);
      }

      start();
      showSlide(0);
    });

    /* ===========================
       Formspree AJAX (—Ñ–æ—Ä–ºa –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏)
       =========================== */
    (function(){
      const form = document.getElementById('contact-form');
      const status = document.getElementById('form-status');
      if (!form) return;
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        status.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
        try {
          const res = await fetch(form.action, {
            method: form.method,
            body: new FormData(form),
            headers: { 'Accept': 'application/json' }
          });
          if (res.ok) {
            status.textContent = '–°–ø–∞—Å–∏–±–æ! –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.';
            status.className = 'form-status success';
            form.reset();
          } else {
            const data = await res.json().catch(()=>null);
            status.textContent = data && data.errors ? data.errors.map(x=>x.message).join(', ') : '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã.';
            status.className = 'form-status error';
          }
        } catch(err) {
          console.error('Formspree error', err);
          status.textContent = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.';
          status.className = 'form-status error';
        }
      });
    })();

    /* ===========================
       –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∑—ã–≤–∞ ‚Üí Google Apps Script (POST JSON)
       –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: –≤ Apps Script doPost –æ–∂–∏–¥–∞–µ—Ç JSON, –∫–∞–∫ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ.
       =========================== */
/* ===========================
   –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∑—ã–≤–∞ ‚Üí Google Apps Script (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î)
   =========================== */
(function(){
  const form = document.getElementById('review-form');
  const status = document.getElementById('review-status');
  if (!form) return;

  form.addEventListener('submit', function(e){
    e.preventDefault();
    status.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
    
    const name = document.getElementById('r-name').value.trim() || '–ê–Ω–æ–Ω–∏–º';
    const review = document.getElementById('r-text').value.trim() || '';
    const ratingEl = document.querySelector('input[name="rating"]:checked');
    const rating = ratingEl ? Number(ratingEl.value) : 0;
    
    if (!rating) { 
      status.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ü–µ–Ω–∫—É.'; 
      return; 
    }

    const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxSgwoF6xs5MogllCoOU2Y3sBBhWhdBy7SCYmQmkJVMa0PXUnP3IxTRRrMlvSliz9YQ7w/exec";

    // –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î - –∏—Å–ø–æ–ª—å–∑—É–µ–º XMLHttpRequest –≤–º–µ—Å—Ç–æ fetch
    var xhr = new XMLHttpRequest();
    xhr.open('POST', APPS_SCRIPT_URL);
    xhr.setRequestHeader('Content-Type', 'application/json');
    
    xhr.onload = function() {
      if (xhr.status === 200) {
        try {
          var response = JSON.parse(xhr.responseText);
          if (response.status === 'success') {
            status.textContent = '–°–ø–∞—Å–∏–±–æ! –û—Ç–∑—ã–≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω.';
            status.className = 'form-status success';
            form.reset();
            loadReviews();
          } else {
            status.textContent = '–û—à–∏–±–∫–∞: ' + (response.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
            status.className = 'form-status error';
          }
        } catch (error) {
          status.textContent = '–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞';
          status.className = 'form-status error';
        }
      } else {
        status.textContent = '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + xhr.status;
        status.className = 'form-status error';
      }
    };
    
    xhr.onerror = function() {
      status.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è';
      status.className = 'form-status error';
    };
    
    xhr.send(JSON.stringify({ name, review, rating }));
  });
})();
    /* ===========================
       –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏–∑ Google Sheets (Sheets API v4)
       - –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_GOOGLE_API_KEY –∏ YOUR_SPREADSHEET_ID –Ω–∏–∂–µ
       - –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: Reviews –ª–∏—Å—Ç "–û—Ç–∑—ã–≤—ã", —Å—Ç–æ–ª–±—Ü—ã A=–∏–º—è, B=—Ç–µ–∫—Å—Ç, C=—Ä–µ–π—Ç–∏–Ω–≥
       =========================== */
async function loadReviews(){
  const container = document.getElementById('reviews-container');
        // TODO: –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à API key –∏ spreadsheet ID
      const apiKey = "AIzaSyCZBk-b-T1VHCZKML88ysMfopBhqCLDa7E";
      const spreadsheetId = "13y9sdqBPcefF3oSRRNzBgdFxn2O2DrJ8dkIOA3zINqk";
      const range = "–û—Ç–∑—ã–≤—ã!A2:C";

      if (!apiKey || apiKey.includes("AIzaSyCZBk-b-T1VHCZKML88ysMfopBhqCLDa7E") || !spreadsheetId || spreadsheetId.includes("13y9sdqBPcefF3oSRRNzBgdFxn2O2DrJ8dkIOA3zINqk")) {
        container.innerHTML = '<p>–û—Ç–∑—ã–≤—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –í—Å—Ç–∞–≤—å—Ç–µ Google API Key –∏ Spreadsheet ID –≤ –∫–æ–¥.</p>';
        return;
      }

      container.innerHTML = '<p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...</p>';
      const url = `https://sheets.googleapis.com/v4/spreadsheets/${encodeURIComponent(spreadsheetId)}/values/${encodeURIComponent(range)}?key=${encodeURIComponent(apiKey)}`;
      try {
        const res = await fetch(url);
        if (!res.ok) {
          console.error('Sheets API error', res.status, res.statusText);
          container.innerHTML = '<p>–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–∑—ã–≤—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API Key –∏ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ.</p>';
          return;
        }
        const data = await res.json();
        if (!data.values || data.values.length === 0) {
          container.innerHTML = '<p>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤.</p>';
          return;
        }

        // –≤—ã–≤–æ–¥–∏–º —Ç–æ–ª—å–∫–æ: –∏–º—è, –æ—Ç–∑—ã–≤, –æ—Ü–µ–Ω–∫–∞ (–∑–≤—ë–∑–¥–∞–º–∏)
        container.innerHTML = '';
        data.values.forEach(row => {
          const name = (row[0] || '–ê–Ω–æ–Ω–∏–º').toString();
          const text = (row[1] || '').toString();
          const rating = Number(row[2]) || 0;
          let stars = '';
          for (let i=1;i<=5;i++) stars += (i<=rating ? '‚òÖ' : '‚òÜ');

          const item = document.createElement('div');
          item.className = 'review-item';
          item.innerHTML = `<h4>${escapeHtml(name)}</h4><div class="stars-display" aria-hidden="true">${stars}</div><p>${escapeHtml(text)}</p>`;
          container.appendChild(item);
        });
      } catch(err) {
        console.error('Load reviews error', err);
        container.innerHTML = '<p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∑—ã–≤—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API.</p>';
      }
    }

    // –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –≤—Å—Ç–∞–≤–∫–∏ HTML
    function escapeHtml(str){
      if (!str) return '';
      return String(str).replace(/[&<>"'`=\/]/g, function(s){
        return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;', "'":'&#39;','/':'&#x2F;','`':'&#x60;','=':'&#x3D;'}[s]);
      });
    }

    // –∑–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–∑—ã–≤—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    loadReviews();
  </script>
</body>
</html>
